{"scoring":null,"notes":"","legend":"Every day a new programming problem is published on Codehorses. Thus, $n$ problems will be published in the following $n$ days: the difficulty of the $i$-th problem is $a_i$.\r\n\r\nPolycarp wants to choose exactly three days $i$, $j$ and $k$ ($i < j < k$) so that the difference of difficulties on the day $j$ and the day $i$ is equal to the difference of difficulties on the day $k$ and day $j$.\r\nIn other words, Polycarp wants equality $a_j-a_i=a_k-a_j$ to be true.\r\n\r\nDetermine the number of possible ways for Polycarp to choose the three days in the desired way.","authorLogin":"mmirzayanov","language":"english","timeLimit":2000,"output":"Output $t$ integers~--- the answers for each of the test cases in the input, in the order they are given. The answer to a test case is the number of triples of indices $i$, $j$, and $k$ such that $1 \\le i < j < k \\le n$ and $a_k-a_j=a_j-a_i$.","inputFile":"stdin","outputFile":"stdout","input":"The first line contains an integer $t$~--- the number of test cases in the input ($1 \\le t \\le 10$). Then $t$ test case descriptions follow.\r\n\r\nThe first line of a test case contains an integer $n$~--- the number of the days ($3 \\le n \\le 2000$).\r\n\r\nThe second line of the test case contains $n$ integers $a_1, a_2, \\dots, a_n$, where $a_i$ is the difficulty of the problem on the $i$-th day ($1 \\le a_i \\le 10^9$).\r\n","authorName":"Mike Mirzayanov","sampleTests":[{"output":"1\r\n1\r\n4\r\n5\r\n","input":"4\r\n5\r\n1 2 1 2 1\r\n3\r\n30 20 10\r\n5\r\n1 2 2 3 4\r\n9\r\n3 1 4 1 5 9 2 6 5\r\n","inputFile":"example.01","outputFile":"example.01.a"}],"name":"Managing Difficulties","interaction":null,"memoryLimit":536870912,"tutorial":"{\r\n    \\parindent=1cm\r\n    \\begin{tabular}{l@{\\extracolsep{1cm}}l}\r\n         Idea: & Mike Mirzayanov\\\\\r\n         Statement: & Mike Mirzayanov\\\\\r\n         Checker: & Mike Mirzayanov\\\\\r\n         Tests: & Mike Mirzayanov\\\\\r\n     \\end{tabular}\r\n}\r\n\r\n\r\n{\r\n    \\parindent=1cm\r\n    \\begin{tabular}{l@{\\extracolsep{1cm}}l}\r\n         Идея задачи: & Михаил Мирзаянов\\\\\r\n         Условие: & Михаил Мирзаянов\\\\\r\n         Проверяющая программа: & Михаил Мирзаянов\\\\\r\n         Тесты: & Михаил Мирзаянов\\\\\r\n     \\end{tabular}\r\n}\r\n\r\nВ задаче требовалось найти количество троек $(i, j, k)$, таких что $1 \\le i < j < k \\le n$ и $a_k-a_j=a_j-a_i$. Заметим, что зная $a_i$ и $a_j$, можно найти требуемое значение $a_k=2a_j-a_i$.\r\n\r\nБудем перебирать $j=n-1..2$ (по убыванию) и $i=1..j-1$, тогда задача сведется к тому, что бы посчитать количество таких $k$, что $k > j$ и $a_k=2a_j-a_i$. \r\n\r\nБудем поддерживать ассоциативный массив $C[v]$~--- количество таких $k$, что $k > j$ и $a_k=v$. Тогда при фиксированных $i$ и $j$, ответом будет $C[2a_j-a_i]$. При переходе от $j$ к $j - 1$ в $C$ изменится только одно значение: $C[a_j]:=C[a_j]+1$.\r\n\r\nТаким образом, используя реализацию ассоциативного массива на основе хеш-таблицы, мы сможем решить задачу за $O(1)$ при фиксированных $i$ и $j$, и $O(n^2)$ для всех пар $i$ и $j$. Если же вместо хеш-таблицы используем упорядоченный ассоциативный массив (например, \\t{std::map} в C++), то задача будет решена за $O(n^2 \\log n)$.\r\n"}